{"ast":null,"code":"import _slicedToArray from \"/home/andris/test_django/django_mqtt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/andris/test_django/django_mqtt/frontend/src/components/add-todo.js\";\n\nimport React, { useState } from 'react';\nimport TodoDataService from '../services/todos';\nimport { Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\n\nvar AddTodo = function AddTodo(props) {\n  var editing = false;\n  var initialTodoTitle = \"\";\n  var initialTodoMemo = \"\";\n\n  if (props.location.state && props.location.state.currentTodo) {\n    editing = true;\n    initialTodoTitle = props.location.state.currentTodo.title;\n    initialTodoMemo = props.location.state.currentTodo.memo;\n  }\n\n  var _useState = useState(initialTodoTitle),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(initialTodoMemo),\n      _useState4 = _slicedToArray(_useState3, 2),\n      memo = _useState4[0],\n      setMemo = _useState4[1]; // keeps track if todo is submitted\n\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      submitted = _useState6[0],\n      setSubmitted = _useState6[1];\n\n  var onChangeTitle = function onChangeTitle(e) {\n    var title = e.target.value;\n    setTitle(title);\n  };\n\n  var onChangeMemo = function onChangeMemo(e) {\n    var memo = e.target.value;\n    setMemo(memo);\n  };\n\n  var saveTodo = function saveTodo() {\n    var data = {\n      title: title,\n      memo: memo,\n      completed: false\n    };\n\n    if (editing) {\n      TodoDataService.updateTodo(props.location.state.currentTodo.id, data, props.token).then(function (response) {\n        setSubmitted(true);\n        console.log(response.data);\n      }).catch(function (e) {\n        console.log(e);\n      });\n    } else {\n      TodoDataService.createTodo(data, props.token).then(function (response) {\n        setSubmitted(true);\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, submitted ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Todo submitted successfully\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/todos/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Back to Todos\")) : /*#__PURE__*/React.createElement(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, editing ? \"Edit\" : \"Create\", \" Todo\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    required: true,\n    placeholder: \"e.g. buy gift tomorrow\",\n    value: title,\n    onChange: onChangeTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    rows: 3,\n    value: memo,\n    onChange: onChangeMemo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    onClick: saveTodo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, editing ? \"Edit\" : \"Add\", \" To-do\")));\n};\n\nexport default AddTodo;","map":{"version":3,"names":["React","useState","TodoDataService","Link","Form","Button","Container","AddTodo","props","editing","initialTodoTitle","initialTodoMemo","location","state","currentTodo","title","memo","setTitle","setMemo","submitted","setSubmitted","onChangeTitle","e","target","value","onChangeMemo","saveTodo","data","completed","updateTodo","id","token","then","response","console","log","catch","createTodo"],"sources":["/home/andris/test_django/django_mqtt/frontend/src/components/add-todo.js"],"sourcesContent":["import React, { useState } from 'react';\nimport TodoDataService from '../services/todos';\nimport { Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\n\nconst AddTodo = props => {\n\n  let editing = false;\n  let initialTodoTitle = \"\";\n  let initialTodoMemo = \"\";\n\n  if (props.location.state && props.location.state.currentTodo) {\n    editing = true;\n    initialTodoTitle = props.location.state.currentTodo.title;\n    initialTodoMemo = props.location.state.currentTodo.memo;\n  }\n\n  const [title, setTitle] = useState(initialTodoTitle);\n  const [memo, setMemo] = useState(initialTodoMemo);\n  // keeps track if todo is submitted\n  const [submitted, setSubmitted] = useState(false);\n\n  const onChangeTitle = e => {\n    const title = e.target.value;\n    setTitle(title);\n  }\n\n  const onChangeMemo = e => {\n    const memo = e.target.value;\n    setMemo(memo);\n  }\n\n  const saveTodo = () => {\n    var data = {\n      title: title,\n      memo: memo,\n      completed: false,\n    }\n\n    if (editing) {\n      TodoDataService.updateTodo(\n        props.location.state.currentTodo.id,\n        data, props.token)\n        .then(response => {\n          setSubmitted(true);\n          console.log(response.data)\n        })\n        .catch(e => {\n          console.log(e);\n        })\n    }\n    else {\n      TodoDataService.createTodo(data, props.token)\n        .then(response => {\n          setSubmitted(true);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    }\n  }\n\n  return (\n    <Container>\n      {submitted ? (\n        <div>\n          <h4>Todo submitted successfully</h4>\n          <Link to={\"/todos/\"}>\n            Back to Todos\n          </Link>\n        </div>\n      ) : (\n        <Form>\n          <Form.Group className=\"mb-3\">\n            <Form.Label>{editing ? \"Edit\" : \"Create\"} Todo</Form.Label>\n            <Form.Control\n              type=\"text\"\n              required\n              placeholder=\"e.g. buy gift tomorrow\"\n              value={title}\n              onChange={onChangeTitle}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\">\n            <Form.Label>Description</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              rows={3}\n              value={memo}\n              onChange={onChangeMemo}\n            />\n          </Form.Group>\n          <Button variant=\"info\" onClick={saveTodo}>\n            {editing ? \"Edit\" : \"Add\"} To-do\n          </Button>\n        </Form>\n      )}\n    </Container>\n  )\n}\n\nexport default AddTodo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}